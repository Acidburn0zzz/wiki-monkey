// Generated by CoffeeScript 1.12.7
var $, CSS;

$ = require('jquery');

CSS = require('../../lib.js.generic/dist/CSS');

module.exports.Mods = (function() {
  var changeHeadingNumberStyle, disableEditSummarySubmitOnEnter, hideRollbackLinks, scrollToFirstHeading;

  function Mods(WM) {
    this.WM = WM;
  }

  changeHeadingNumberStyle = function(style) {
    return CSS.addStyleElement("span.mw-headline-number {" + style + "}");
  };

  disableEditSummarySubmitOnEnter = function() {
    return $('#wpSummary').keydown(function(event) {
      if (event.key === 'Enter' || (typeof event.key === 'undefined' && event.keyCode === 13)) {
        event.preventDefault();
        return false;
      }
    });
  };

  hideRollbackLinks = function() {
    return CSS.addStyleElement("span.mw-rollback-link {display:none;}");
  };

  scrollToFirstHeading = function() {
    return window.scrollTo(0, $('#firstHeading').offset().top);
  };

  Mods.prototype.applyGeneralMods = function() {
    var conf;
    conf = this.WM.Cfg._getGeneralMods();
    if (conf['heading_number_style']) {
      return changeHeadingNumberStyle(conf['heading_number_style']);
    }
  };

  Mods.prototype.applyEditorMods = function() {
    var conf;
    conf = this.WM.Cfg._getEditorMods();
    if (conf['disable_edit_summary_submit_on_enter']) {
      disableEditSummarySubmitOnEnter();
    }
    if (conf['scroll_to_first_heading']) {
      return scrollToFirstHeading();
    }
  };

  Mods.prototype.applyRecentChangesMods = function() {
    var conf;
    conf = this.WM.Cfg._getRecentChangesMods();
    if (conf['hide_rollback_links']) {
      return hideRollbackLinks();
    }
  };

  Mods.prototype.applyContributionsMods = function() {
    var conf;
    conf = this.WM.Cfg._getContributionsMods();
    if (conf['hide_rollback_links']) {
      return hideRollbackLinks();
    }
  };

  return Mods;

})();
